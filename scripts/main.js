!function t(i,e,s){function o(n,a){if(!e[n]){if(!i[n]){var p="function"==typeof require&&require;if(!a&&p)return p(n,!0);if(r)return r(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[n]={exports:{}};i[n][0].call(h.exports,function(t){var e=i[n][1][t];return o(e?e:t)},h,h.exports,t,i,e,s)}return e[n].exports}for(var r="function"==typeof require&&require,n=0;n<s.length;n++)o(s[n]);return o}({"C:\\workspaces\\github\\snip-boid\\app\\scripts\\ZLM.js":[function(t,i,e){"use strict";var s=t("./app/ZombieLand"),o=t("./app/world/WorldLoader"),r=t("./app/UI/UILoader"),n=t("./app/levels/level1"),a=t("./app/levels/level1.UI"),p=t("./app/levels/level1.config");t("./app/levels/level1.JSON"),new function(){var t=new s({speed:p.speed});console.info(t.info()),t.setWorld(o.load(n,n.WORLD)),t.start(),t.ui=r.load(a),t.ui.bindToApp(t)}},{"./app/UI/UILoader":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UILoader.js","./app/ZombieLand":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\ZombieLand.js","./app/levels/level1":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.js","./app/levels/level1.JSON":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.JSON","./app/levels/level1.UI":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.UI.js","./app/levels/level1.config":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.config.js","./app/world/WorldLoader":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\WorldLoader.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\AbstractApp.js":[function(t,i,e){"use strict";var s=(t("fps"),t("raf")),o=function r(t){return this.opts=t||{},this instanceof r?(this.name="Abstract app",this.version="0.0.1",void(this.speed=void 0==t.speed?1:t.speed)):new r(this.opts)};o.prototype.info=function(){return this.name+" "+this.version},o.prototype.setWorld=function(t){this.world&&this.world.remove(),this.world=t},o.prototype.getWorld=function(){return this.world},o.prototype.update=function(t){console.error("update not implemented"),this.world.update(t)},o.prototype.start=function(){var t=this,i=function e(){var i=s(e);t.speed>0&&i%t.speed==0&&t.update(i)};i()},i.exports=o},{fps:"C:\\workspaces\\github\\snip-boid\\node_modules\\fps\\index.js",raf:"C:\\workspaces\\github\\snip-boid\\node_modules\\raf\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UI.js":[function(t,i,e){"use strict";var s=function o(t){if(!(this instanceof o))return new o(t);this.opts=t||{},this.controls={},this.type="UI",this.debug=t.debug||!1};s.prototype.init=function(){console.info("Init UI",this.opts),this.stage=$("<div />",{"class":"ui-canvas",click:function(t){}}),$(document.body).prepend(this.stage)},s.prototype.addEntity=function(t,i){console.info("adding "+i.key,i),this.stage.prepend(i),this.controls[i.key]=i},s.prototype.getEntity=function(t){return this.controls[t]?this.controls[t]:(console.error(t+" component not registered"),$("<div />"))},s.prototype.bindToApp=function(t){for(var i in this.controls)this.controls[i].onBind&&this.controls[i].onBind(this,t)},i.exports=s},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UIFactory.js":[function(t,i,e){"use strict";var s=function(){this.getBox=function(t){var i=$("<div />",{"class":"row panel panel-default ui-box"});return i.key=t,i.draggable(),i},this.getButton=function(t,i){var e=$('<button type="button" class="btn btn-primary">'+t+"</button>");return e.button().click(function(t){t.preventDefault(),i(t)}),e},this.getButtonGroup=function(t,i){var e=$('<div class="btn-group"></div>');return e}};i.exports=new s},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UILoader.js":[function(t,i,e){"use strict";var s=t("./UI"),o=function r(t){return this.opts=t||{},this instanceof r?void 0:new r(this.opts)};o.prototype.load=function(t){var i=new s(t);i.init();var e=t.UI;if(e.controls)for(var o=e.controls.length-1;o>=0;o--){var r=e.controls[o];i.addEntity({key:r.key},r)}return i},i.exports=new o},{"./UI":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UI.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\ZombieLand.js":[function(t,i,e){"use strict";var s=t("./AbstractApp"),o=function r(t){return this instanceof r?(s.call(this,t),this.opts=t||{},void(this.name="Zombie Land")):new r(t)};o.prototype=Object.create(s.prototype),o.prototype.constructor=s,o.prototype.update=function(t){this.world&&this.world.update&&this.world.update()},i.exports=o},{"./AbstractApp":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\AbstractApp.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js":[function(t,i,e){"use strict";var s=function r(t){return this.opts=t||{},this instanceof r?(this.type=this.opts.type||this.TYPES.AbstractEntity,this.id=this.opts.id||o(),this.parent=void 0,this.renderTargets=void 0,this.position=this.opts.position||{x:this.opts.x||0,y:this.opts.y||0},this):new r(this.opts)};s.prototype.update=function(t){console.error(this.type+" update not implemented",t),this.updateTargets(t)},s.prototype.addTarget=function(t){this.renderTargets=t},s.prototype.updateTargets=function(t){this.renderTargets&&this.renderTargets.update?this.renderTargets.update(this,t):console.error(this.type+" target update not implemented")},s.prototype.onTargetUpdate=function(t,i){console.info(this.type+" updated by its target "+t.type),this.setPosition(t.position.x,t.position.y)},s.prototype.TYPES={},s.prototype.TYPES.AbstractEntity="AbstractEntity",s.prototype.TYPES.Flock="Flock",s.prototype.TYPES.Boid="Boid",s.prototype.TYPES.Wall="Wall",s.prototype.TYPES.Bouncer="Bouncer",s.prototype.TYPES.Goal="Goal",s.prototype.serialize=function(){return{type:this.type,parent:this.parent,id:this.id,position:this.position}},i.exports=s;var o=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=16*Math.random()|0,e="x"==t?i:3&i|8;return e.toString(16)})}},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Boid.js":[function(t,i,e){"use strict";var s=t("./AbstractEntity"),o=(Math.sqrt,0),r=1,n=2,a=3,p=4,c=5,h=6,u=7,d=8,l=function y(t){if(!(this instanceof y))return new y(t);s.call(this),this.opts=t||{},this.type=this.TYPES.Boid,this.implementation=this.opts.impl;var i=[t.px||0,t.py||0,t.pz||0,t.sx||0,t.sy||0,t.sz||0,t.fx||0,t.fy||0,t.fz||0];this.getPosition=function(){return{x:i[o],y:i[r],z:i[n]}},this.getSpeed=function(){return{x:i[a],y:i[p],z:i[c]}},this.getAcc=function(){return{x:i[h],y:i[u],z:i[d]}},this.setPosition=function(t,e,s){i[o]=t,i[r]=e,i[n]=s},this.setSpeed=function(t,e,s){i[a]=t,i[p]=e,i[c]=s},this.setAcc=function(t,e,s){i[h]=t,i[u]=e,i[d]=s}};l.prototype=Object.create(s.prototype),l.prototype.constructor=s,l.prototype.step=function(t,i){this.implementation.step(this,t,i||{})},i.exports=l},{"./AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Bouncer.js":[function(t,i,e){"use strict";var s=t("./AbstractEntity"),o=t("victor"),r=function n(t){return this instanceof n?(s.call(this,t),this.opts=t||{},this.type=this.TYPES.Bouncer,this.radius=t.radius||10,this.force=t.force||10,this.distance=t.distance||1,this.setPosition=function(t,i){this.position.x=t,this.position.y=i},this.getPosition=function(){return this.position},void(this.getDistanceFrom=function(t,i){return Math.sqrt(new o(this.position.x,this.position.y).distanceSq(new o(t,i)))})):new n(t)};r.prototype=Object.create(s.prototype),r.prototype.constructor=s,r.prototype.update=function(t){this.updateTargets(t)},i.exports=r},{"./AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Flock.js":[function(t,i,e){"use strict";var s=t("./../../utils"),o=t("./Boid"),r=t("./AbstractEntity"),n=t("./../impl/3")(),a=function c(t){return this.opts=t||{},this instanceof c?(r.call(this),this.type=this.TYPES.Flock,this.boids=[],void this.init(t)):new c(this.opts)};a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype.init=function(t){this.targetFactory=t.targetFactory,this.sepD=t.sepD||0,this.cohD=t.cohD||0,this.aliD=t.aliD||0,this.sepW=t.sepW||0,this.cohW=t.cohW||0,this.aliW=t.aliW||0,this.scaWP=t.scaWP||0,this.attrWP=t.attrWP||0,this.goalWP=t.goalWP||0,this.aLimit=t.aLimit||0,this.sLimit=t.sLimit||0,this.sRatio=t.sRatio||0,this.impl=t.impl||n,this.width=t.width||$(window).width(),this.height=t.height||$(window).height(),p.bind(this)(t)},a.prototype.addBoid=function(t){var i=new o($.extend(t,{impl:this.impl,id:this.boids.length}));return this.boids.push(i),this.targetFactory&&i.addTarget(this.targetFactory.generate(i)),i},a.prototype.update=function(t){var i=this,e=$.extend(t,{sepD:this.sepD,cohD:this.cohD,aliD:this.aliD,sepW:this.sepW,cohW:this.cohW,aliW:this.aliW,scaWP:this.scaWP,attrWP:this.attrWP,goalWP:this.goalWP,aLimit:this.aLimit,sLimit:this.sLimit,sRatio:this.sRatio});this.boids.forEach(function(s){s.debug=t.debug||!1,s.step(i.boids,e),s.updateTargets(t)}),this.updateTargets(t)},i.exports=a;var p=function(t){var i=this.width,e=this.height,o=this.sLimit;if(t.SIZE)for(var r=0;r<t.SIZE;r++)t.RANDOM?this.addBoid($.extend(t,{px:s.random(0,i),py:s.random(0,e),pz:0,sx:s.randomReal(-o,o),sy:s.randomReal(-o,o),sz:s.randomReal(-o,o)})):this.addBoid($.extend(t,{px:Math.floor(i/2)+s.random(-10,10),py:Math.floor(e/2)+s.random(-10,10),sx:s.randomReal(-o,o),sy:s.randomReal(-o,o),sz:s.randomReal(-o,o)}))}},{"./../../utils":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js","./../impl/3":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\impl\\3.js","./AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js","./Boid":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Boid.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Goal.js":[function(t,i,e){"use strict";var s=t("./AbstractEntity"),o=t("victor"),r=function n(t){return this instanceof n?(s.call(this),this.opts=t||{},this.type=this.TYPES.Goal,this.radius=t.radius||10,this.force=t.force||10,this.distance=t.distance||1e3,this.position={x:t.x||0,y:t.y||0},this.setPosition=function(t,i){this.position.x=t,this.position.y=i},this.getPosition=function(){return this.position},void(this.getDistanceFrom=function(t,i){return Math.sqrt(new o(this.position.x,this.position.y).distanceSq(new o(t,i)))})):new n(this.opts)};r.prototype=Object.create(s.prototype),r.prototype.constructor=s,r.prototype.update=function(t){this.updateTargets(t)},i.exports=r},{"./AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Wall.js":[function(t,i,e){"use strict";var s=t("./AbstractEntity"),o=function(t){if(t.start.y>t.end.y){var i=t.end;t.end=t.start,t.start=i}return t},r=function n(t){function i(t,i,e){var s=t.x,o=i.x,r=t.y,n=i.y,a=e.x,p=e.y;return Math.abs((n-r)*a-(o-s)*p+o*r-n*s)/Math.sqrt((n-r)*(n-r)+(o-s)*(o-s))}if(!(this instanceof n))return new n(this.opts);s.call(this),this.type=this.TYPES.Wall,this.opts=t||{},this.opts=o(this.opts),this.type=this.TYPES.Wall,this.start=this.opts.start,this.end=this.opts.end;var e=function(){this.A=this.end.y-this.start.y,this.B=this.start.x-this.end.x,this.C=this.A*this.start.x+this.B*this.start.y,this.M=(this.end.y-this.start.y)/(this.end.x-this.start.x),this.isVertical=Math.abs(this.end.x-this.start.x)<1e-5,this.isHorizontal=Math.abs(this.end.y-this.start.y)<1e-5};e.bind(this)(),this.force=t.force||100,this.distance=t.distance||1,this.getPosition=function(){return this.position},this.getDistanceFrom=function(t,e){return i(this.start,this.end,{x:t,y:e})},this.getLineEq=function(){return{A:this.A,B:this.B,C:this.C,M:this.M,isVertical:this.isVertical,isHorizontal:this.isHorizontal}},this.isInside=function(t){var i=2;return t.x=Math.floor(t.x),t.y=Math.floor(t.y),(this.start.x-i<=t.x&&this.end.x+i>=t.x||this.start.x+i>=t.x&&this.end.x-i<=t.x)&&(this.start.y-i<=t.y&&this.end.y+i>=t.y||this.start.y+i>=t.y&&this.end.y-i<=t.y)}};r.prototype=Object.create(s.prototype),r.prototype.constructor=s,r.prototype.update=function(t){this.updateTargets(t)},r.prototype.onTargetUpdate=function(t,i){return i.type&&"start"===i.type?(this.start.x=t.position.x,void(this.start.y=t.position.y)):i.type&&"end"===i.type?(this.end.x=t.position.x,void(this.end.y=t.position.y)):void 0},r.prototype.serialize=function(){return{type:this.type,parent:this.parent,id:this.id,start:this.start,end:this.end}},i.exports=r},{"./AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\BaseTargetFactory.js":[function(t,i,e){"use strict";var s=function o(t){return t=t||{},this instanceof o?(this.name="BaseTargetFactory",this.description="Abstract Factory",this.info=function(){console.info(this)},this):new o(t)};s.prototype.generate=function(t){return console.warn("cant generate a target for "+t.type,t),{}},s.prototype.apply=function(t){return t.addTarget(this.generate(t)),t},i.exports=s},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\EntityFactory.js":[function(t,i,e){"use strict";var s=(t("../entities/Flock"),t("../entities/Wall")),o=t("../entities/Bouncer"),r=function n(t){return t=t||{},this instanceof n?(this.name="EntityFactory",this.info=function(){console.info(this)},this.generate=function(t,i,e){var r=void 0;switch(t.type){case"Wall":r=new s($.extend(i,t)),i.targetFactory.apply(r);break;case"Bouncer":r=new o($.extend(i,t)),i.targetFactory.apply(r);break;default:console.error("Error factoring entity "+t.type+" no converter found")}return e&&e(r),r},this):new n(t)};i.exports=r},{"../entities/Bouncer":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Bouncer.js","../entities/Flock":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Flock.js","../entities/Wall":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Wall.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\FlockFactory.js":[function(t,i,e){"use strict";var s=t("../entities/Flock"),o=function r(t){return t=t||{},this instanceof r?(this.name="FlockFactory",this.description="create a flock",this.info=function(){console.info(this)},this.generate=function(i,e){i=i||{};var o=new s($.extend(t,i));return t.targetFactory&&o.addTarget(t.targetFactory.generate(o)),e&&e(o),o},this):new r(t)};i.exports=o},{"../entities/Flock":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Flock.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\PixiTargetFactory.js":[function(t,i,e){"use strict";var s=t("./BaseTargetFactory"),o=t("../targets/pixi/World.pixi"),r=t("../targets/pixi/Boid.pixi"),n=t("../targets/pixi/Bouncer.pixi"),a=t("../targets/pixi/Wall.pixi"),p=t("../targets/pixi/Flock.pixi"),c=t("../targets/pixi/Goal.pixi"),h=function u(t){return this instanceof u?(s.call(this),this.opts=t||{},this.name="PixiTargetFactory",void(this.description="Abstract Factory")):new u(this.opts)};h.prototype=Object.create(s.prototype),h.prototype.constructor=s,h.prototype.generate=function(t){console.info(this.name+" - generating target for "+t.type);switch(t.type){case"World":return new o(t);case"Boid":return new r(t);case"Flock":return new p(t);case"Bouncer":return new n(t);case"Wall":return new a(t);case"Goal":return new c(t);default:return s.prototype.generate.call(this,t)}return{}},i.exports=h},{"../targets/pixi/Boid.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Boid.pixi.js","../targets/pixi/Bouncer.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Bouncer.pixi.js","../targets/pixi/Flock.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Flock.pixi.js","../targets/pixi/Goal.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Goal.pixi.js","../targets/pixi/Wall.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Wall.pixi.js","../targets/pixi/World.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\World.pixi.js","./BaseTargetFactory":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\BaseTargetFactory.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\impl\\3.js":[function(t,i,e){"use strict";var s=t("../../utils"),o=t("victor"),r=function u(t){return t=t||{},this instanceof u?void 0:new u(t)};r.prototype.info=function(){console.info("-- new boids impl - 10/02/2016 "),console.info(this),console.info("Info",.1)},r.prototype.step=function(t,i,e){var s=p(t),o=c(t.getSpeed()),r=h(0,0),n=e.sLimit,u=e.aLimit,d=this.sca(t,i,e);d=a(d,u*e.scaWP),r.add(d.clone().multiply(h(e.scaWP,e.scaWP)));var l=this.attractor(t,e.attractors||[]);l=a(l,u*e.attrWP),r.add(l.clone().multiply(h(e.attrWP,e.attrWP)));var y=this.goal(t,e.goals||[]);y=a(y,u*e.goalWP),r.add(y.clone().multiply(h(e.goalWP,e.goalWP)));var f=this.cwall(t,e.walls||[]);f=a(f,u*e.attrWP*10),r.add(f.clone().multiply(h(e.attrWP,e.attrWP))),r=a(r,u),o=o.clone().add(r),o=a(o,n),s=s.clone().add(o),t.setPosition(s.x,s.y),t.setSpeed(o.x,o.y),t.setAcc(r.x,r.y)},r.prototype.attractor=function(t,i){for(var e=h(0,0),s=p(t).add(c(t.getSpeed())),o=i.length-1;o>=0;o--){var r=i[o],n=p(r),a=p(t).subtract(n).magnitude(),u=r.distance+r.radius;if(a>r.radius&&u>a){var d=s.clone().subtract(n);d.divide(h(a-r.radius,a-r.radius)),d=d.multiply(h(r.force,r.force)),e.add(d)}else if(a>0&&a<=r.radius){var d=p(t).subtract(n);d=d.multiply(h(5*r.force,5*r.force)),e.add(d)}}return e};var n=function(t,i,e){return(i.x<=t.x&&e.x>=t.x||i.x>=t.x&&e.x<=t.x)&&(i.y<=t.y&&e.y>=t.y||i.y>=t.y&&e.y<=t.y)};r.prototype.cwall=function(t,i){for(var e=h(0,0),o=p(t),r=i.length-1;r>=0;r--){var a=i[r],u=c(t.getSpeed()),d=p(t).add(u.clone().multiply(h(a.distance,a.distance))),l=a.getDistanceFrom(o.x+u.x,o.y+u.y),y=a.distance,f=s.getLineEq({x:t.getPosition().x,y:t.getPosition().y},{x:t.getPosition().x+t.getSpeed().x,y:t.getPosition().y+t.getSpeed().y}),g=s.lineInterception(f,a.getLineEq());if(g&&a.isInside(g)&&n(g,o,d)&&y>l){a.intersection=g;var b,x=h(a.end.y-a.start.y,-(a.end.x-a.start.x)).normalize().multiply(h(100,100)),v=h(-(a.end.y-a.start.y),a.end.x-a.start.x).normalize().multiply(h(100,100)),m={x:g.x+x.x,y:g.y+x.y},w={x:g.x+v.x,y:g.y+v.y};b=s.distToPoint(o,m)<s.distToPoint(o,w)?x:v,a.norm=b.clone();var k=(s.distToPoint(g,{x:t.getPosition().x,y:t.getPosition().y}),d.clone().subtract(o).normalize()),C=b.clone().normalize(),j=k.clone().dot(C)/C.clone().dot(C),T=C.clone().multiply(h(j,j)),P=k.clone().subtract(T),A=P.clone().subtract(T);e=e.add(A.clone().multiply(h(a.force,a.force)).divide(h(l,l)))}else a.intersection=void 0,a.norm=void 0}return e};r.prototype.goal=function(t,i){for(var e=h(0,0),s=p(t),o=i.length-1;o>=0;o--){var r=i[o],n=p(r),a=p(t).subtract(n).magnitude(),c=(r.distance+r.radius,s.clone().subtract(n));c.divide(h(a-r.radius,a-r.radius)),c=c.multiply(h(r.force,r.force)),e.add(c)}return e},r.prototype.sca=function(t,i,e){for(var s=h(0,0),o=h(0,0),r=h(0,0),n=i.length-1;n>=0;n--){var a=i[n];if(a.id!=t.id){var u=p(t).subtract(p(a)).magnitude();u<e.sepD?s.add(p(t).subtract(p(a))):(u<e.cohD&&o.add(p(t).subtract(p(a))),u<e.aliD&&r.add(c(a.getSpeed())))}}var d=h(0,0);return s.magnitude()>0&&(d=d.add(s.normalize().multiply(h(e.sepW,e.sepW)))),o.magnitude()>0&&(d=d.subtract(o.normalize().multiply(h(e.cohW,e.cohW)))),r.magnitude()>0&&(d=d.subtract(r.normalize().multiply(h(e.aliW,e.aliW)))),d};var a=function(t,i){var e=t.clone();return e.magnitude()>i&&e.normalize().multiply(h(i,i)),e},p=function(t){var i=t.getPosition();return new o(i.x,i.y)},c=function(t){return new o(t.x,t.y)},h=function(t,i){return new o(t,i)};i.exports=r},{"../../utils":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.JSON":[function(t,i,e){i.exports={type:"World",debug:!1,entities:[{type:"Bouncer",draggable:!0,id:"4e85a629-06f9-4789-97c6-eec5ba75b5cc",position:{x:100,y:100}}]}},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.UI.js":[function(t,i,e){"use strict";var s=t("../UI/UIFactory.js"),o=t("./level1.config"),r=t("../world/WorldLoader"),n=s.getBox("PB-CONTROLS"),a=s.getButtonGroup("playback-controls-group");n.append(a),n.onBind=function(t,i){var e=s.getButton("STOP",function(){i.speed=0}),o=s.getButton("PLAY",function(){i.speed=1}),r=s.getButton("SLOW",function(){i.speed=10});a.append(e),a.append(o),a.append(r)};var p=t("./level1.JSON"),n=s.getBox("FILE-CONTROLS"),a=s.getButtonGroup("file-controls-group");n.append(a),n.onBind=function(t,i){var e=s.getButton("SAVE",function(){console.info("saving",r.saveToJSON(i.world,{}))}),n=s.getButton("LOAD",function(){var t=r.loadFromJSON(o,p);i.setWorld(t),console.info("loading",t)});a.append(e),a.append(n)},o.UI={controls:[n]},i.exports=o},{"../UI/UIFactory.js":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UIFactory.js","../world/WorldLoader":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\WorldLoader.js","./level1.JSON":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.JSON","./level1.config":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.config.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.config.js":[function(t,i,e){"use strict";var s=t("../factories/PixiTargetFactory"),o=64154;i.exports={targetFactory:new s({}),speed:1,width:$(window).width(),height:$(window).height(),BACKGROUND:o,FLOCKFACTORY:{sepD:150,cohD:600,aliD:400,sepW:100,cohW:140,aliW:80,aLimit:.5,sLimit:3,sRatio:1,scaWP:.5,attrWP:1.2,goalWP:.2,RANDOM:!1},FLOCK:{SIZE:50}}},{"../factories/PixiTargetFactory":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\PixiTargetFactory.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.js":[function(t,i,e){"use strict";var s=(t("../entities/AbstractEntity"),t("../entities/Bouncer")),o=t("../entities/Wall"),r=t("../entities/Goal"),n=t("../factories/FlockFactory"),a=t("./level1.config"),p=t("../factories/PixiTargetFactory"),c=t("../../utils.js"),h=(t("../UI/UIFactory.js"),t("../world/WorldLoader"),a.FLOCKFACTORY.targetFactory=a.targetFactory=new p({})),u=new n(a.FLOCKFACTORY).generate(a.FLOCK);a.WORLD={},a.WORLD.entities=[u];for(var d=0;40>d;d++){var l=new s({draggable:!0,x:c.random(0,a.width),y:c.random(0,a.height),radius:c.random(10,20),force:c.random(100,500),distance:c.random(10,50)});h.apply(l)}for(var d=0;5>d;d++){var y=new o({draggable:!0,start:{x:c.random(0,a.width),y:c.random(0,a.height)},end:{x:c.random(0,a.width),y:c.random(0,a.height)},force:500,distance:100});h.apply(y),a.WORLD.entities.push(y)}var f=new r({draggable:!0,x:100,y:100,radius:20,force:-1,distance:1});h.apply(f),a.WORLD.entities.push(f),i.exports=a},{"../../utils.js":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js","../UI/UIFactory.js":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\UI\\UIFactory.js","../entities/AbstractEntity":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\AbstractEntity.js","../entities/Bouncer":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Bouncer.js","../entities/Goal":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Goal.js","../entities/Wall":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\entities\\Wall.js","../factories/FlockFactory":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\FlockFactory.js","../factories/PixiTargetFactory":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\PixiTargetFactory.js","../world/WorldLoader":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\WorldLoader.js","./level1.config":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\levels\\level1.config.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js":[function(t,i,e){"use strict";function s(t){this.data=t.data,this.alpha=.5,this.dragging=!0}function o(){this.alpha=1,this.dragging=!1,this.data=null}function r(){if(this.dragging){var t=this.data.getLocalPosition(this.parent);this.position.x=t.x,this.position.y=t.y,this.updateSource({})}}var n=function a(t,i){if(!(this instanceof a))return new a(t,i);PIXI.Graphics.call(this);return this.source=t,this.type="AbstractPixiTarget",i=i||{},this.source.opts=this.source.opts||{},this.source.opts=$.extend(this.source.opts,i),this.buttonMode=t.opts.draggable||!1,this.interactive=t.opts.draggable||!1,this.on("mousedown",s).on("touchstart",s).on("mouseup",o).on("mouseupoutside",o).on("touchend",o).on("touchendoutside",o).on("mousemove",r).on("touchmove",r),this};n.prototype=Object.create(PIXI.Graphics.prototype),n.prototype.constructor=PIXI.Graphics,n.prototype.update=function(t){console.error(this.type+"update not implemented",t)},n.prototype.updateSource=function(t){this.source.onTargetUpdate&&this.source.onTargetUpdate(this,t)},i.exports=n},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Boid.pixi.js":[function(t,i,e){"use strict";var s=t("victor"),o=t("./AbstractPixiTarget"),r=16711680,n=function p(t){return this instanceof p?(o.call(this,t),this.type="PixiBoid",this.position={x:0,y:0},this.body=new a(t),this.addChild(this.body),this):new p(t)};n.prototype=Object.create(o.prototype),n.prototype.constructor=o,n.prototype.render=function(){this.clear(),this.debug&&(this.drawLine(16777215,this.acc[0],this.acc[1],100),this.drawLine(r,this.speed[0],this.speed[1],10))},n.prototype.update=function(t){this.debug=t.debug,this.position.x=t.getPosition().x,this.position.y=t.getPosition().y,this.speed=[t.getSpeed().x,t.getSpeed().y],this.acc=[t.getAcc().x,t.getAcc().y],this.render(),this.body.update(t)},n.prototype.drawLine=function(t,i,e,o){this.lineStyle(1,t),this.fillAlpha=.06,this.beginFill(),this.moveTo(0,0);var r=new s(i,e),n=(o||30)*r.magnitude();r.normalize().multiply(new s(n,n)),this.lineTo(r.x,r.y),this.lineTo(0,0),this.endFill()};var a=function c(t){return this instanceof c?(o.call(this,t),this.update=function(t){this.debug=t.debug,this.render()},this.pivot.set(0,0),this.position.x=0,this.position.y=0,this.position.z=0,this.speed=[],this):new c(t)};a.prototype=Object.create(o.prototype),a.prototype.constructor=o,a.prototype.render=function(){this.clear(),this.beginFill(r),this.drawCircle(0,0,Math.abs(3)),this.endFill()},i.exports=n},{"./AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Bouncer.pixi.js":[function(t,i,e){"use strict";var s=t("../../../utils"),o=t("./AbstractPixiTarget"),r=function n(t){return this instanceof n?(o.call(this,t),this.type="PixiBouncer",this.position={x:0,y:0},this.color=s.color(),this):new n(t)};r.prototype=Object.create(o.prototype),r.prototype.constructor=o,r.prototype.render=function(){this.clear(),this.lineStyle(0,0),this.debug&&(this.beginFill(8947848),this.fillAlpha=.5,this.drawCircle(0,0,Math.abs(this.radius+this.distance||100)),this.endFill()),this.beginFill(this.color),this.fillAlpha=.66,this.lineStyle(1,16777215),this.drawCircle(0,0,Math.abs(this.radius||10)),this.endFill(),this.moveTo(0,-this.radius),this.lineTo(0,this.radius)},r.prototype.update=function(t,i){this.dragging||(this.radius=t.radius,this.distance=t.distance,this.force=t.force,this.debug=i.debug,this.position.x=t.getPosition().x,this.position.y=t.getPosition().y),this.render()},i.exports=r},{"../../../utils":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js","./AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Flock.pixi.js":[function(t,i,e){"use strict";var s=t("victor"),o=t("./AbstractPixiTarget"),r=function(t,i){return new s(t,i)},n=function a(t){return this instanceof a?(o.call(this,t),this.type="PixiFlock",this.position={x:0,y:0},this.radius=0,this):new a(t)};n.prototype=Object.create(o.prototype),n.prototype.constructor=o,n.prototype.render=function(){this.clear(),this.debug&&(this.beginFill(0),this.fillAlpha=.2,this.drawCircle(0,0,Math.abs(this.radius)),this.endFill())},n.prototype.update=function(t,i){var e=t.boids,s=r(0,0),o=0,n=0;if(this.debug=i.debug,this.debug){for(var a=e.length-1;a>=0;a--){var p=r(e[a].getPosition().x,e[a].getPosition().y);s=s.add(p),n=Math.max(n,Math.sqrt(p.distanceSq(r(this.position.x,this.position.y)))),o++}s=s.divide(r(o,o))}this.radius=1.1*n,this.position.x=s.x,this.position.y=s.y,this.render()},i.exports=n},{"./AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Goal.pixi.js":[function(t,i,e){"use strict";var s=t("../../../utils"),o=t("./AbstractPixiTarget"),r=function n(t){return this instanceof n?(o.call(this,t),this.type="PixiGoal",this.position={x:0,y:0},this.color=s.color(),this):new n(t)};r.prototype=Object.create(o.prototype),r.prototype.constructor=o,r.prototype.render=function(){this.clear(),this.lineStyle(0,0),this.debug&&(this.beginFill(8947848),this.fillAlpha=.5,this.drawCircle(0,0,Math.abs(this.radius+this.distance||100)),this.endFill()),this.beginFill(this.color),this.fillAlpha=.66,this.lineStyle(1,16777215),this.drawCircle(0,0,Math.abs(this.radius||10)),this.endFill(),this.moveTo(-this.radius,0),this.lineTo(this.radius,0)},r.prototype.update=function(t,i){this.dragging||(this.radius=t.radius,this.distance=t.distance,this.force=t.force,this.debug=i.debug,this.position.x=t.getPosition().x,this.position.y=t.getPosition().y),this.render()},i.exports=r},{"../../../utils":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js","./AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\Wall.pixi.js":[function(t,i,e){"use strict";var s=16711680,o=16777215,r=t("./AbstractPixiTarget"),n=t("./components/Circle.pixi"),a=function p(t){return this instanceof p?(r.call(this,t),this.type="PixiWall",this.position={x:0,y:0},this.pstart=new n(t,{draggable:t.opts.draggable||!1,radius:5,color:o}),this.pend=new n(t,{draggable:t.opts.draggable||!1,radius:5,color:s}),this.addChild(this.pstart),this.pstart.updateSource=function(t){this.position;this.source.onTargetUpdate&&this.source.onTargetUpdate(this,{type:"start"})},this.pend.updateSource=function(t){this.position;this.source.onTargetUpdate&&this.source.onTargetUpdate(this,{type:"end"})},this.addChild(this.pend),this):new p(t)};a.prototype=Object.create(r.prototype),a.prototype.constructor=r,a.prototype.render=function(){this.clear(),this.intersection&&this.debug&&(this.lineStyle(2,15750434),this.beginFill(15750434),this.drawCircle(this.intersection.x,this.intersection.y,6),this.endFill(),this.norm&&(this.moveTo(this.intersection.x,this.intersection.y),this.lineTo(this.intersection.x+this.norm.x,this.intersection.y+this.norm.y),this.moveTo(this.intersection.x,this.intersection.y))),this.beginFill(),this.lineStyle(3,o),this.moveTo(this.start.x,this.start.y),this.lineTo(this.end.x,this.end.y),
this.endFill()},a.prototype.update=function(t,i){this.debug=i.debug,this.start=t.start,this.end=t.end,this.dragging||(this.pstart.position.x=t.start.x,this.pstart.position.y=t.start.y,this.pend.position.x=t.end.x,this.pend.position.y=t.end.y,this.intersection=t.intersection,this.norm=t.norm),this.render(),this.pstart.render(),this.pend.render()},i.exports=a},{"./AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js","./components/Circle.pixi":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\components\\Circle.pixi.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\World.pixi.js":[function(t,i,e){"use strict";var s=function o(t){if(!(this instanceof o))return new o(t);return this.info="Pixi.js implementation",this.type="PixiWorld",this.stage=new PIXI.Container,this.stages={},this.renderer=PIXI.autoDetectRenderer(t.opts.width,t.opts.height,{backgroundColor:t.opts.BACKGROUND}),document.body.appendChild(this.renderer.view),this};s.prototype.getStage=function(t){return this.stages[t]||(this.stages[t]=new PIXI.Container,this.stage.addChild(this.stages[t])),this.stages[t]},s.prototype.destroy=function(){document.body.removeChild(this.renderer.view)},s.prototype.addEntity=function(t){switch(t.type){case"Flock":var i=this.getStage(t.type);i.addChild(t.renderTargets);for(var e=t.boids,s=e.length-1;s>=0;s--){var o=e[s];i.addChild(o.renderTargets)}break;case"Bouncer":var i=this.getStage(t.type);i.addChild(t.renderTargets);break;case"Wall":var i=this.getStage(t.type);i.addChild(t.renderTargets);break;case"Goal":var i=this.getStage(t.type);i.addChild(t.renderTargets);break;default:console.warn("Missing implementation")}},s.prototype.update=function(){this.renderer.render(this.stage)},i.exports=s},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\components\\Circle.pixi.js":[function(t,i,e){"use strict";var s=t("../../../../utils"),o=t("./../AbstractPixiTarget"),r=function n(t,i){return this instanceof n?(o.call(this,t),this.type="PixiCircle",this.position={x:0,y:0},this.color=i.color||s.color(),this):new n(t)};r.prototype=Object.create(o.prototype),r.prototype.constructor=o,r.prototype.render=function(){this.clear(),this.beginFill(this.color),this.fillAlpha=.66,this.lineStyle(1,16777215),this.drawCircle(0,0,Math.abs(this.radius||10)),this.endFill(),this.moveTo(-this.radius,-this.radius),this.lineTo(this.radius,this.radius)},r.prototype.update=function(t,i){this.render()},i.exports=r},{"../../../../utils":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js","./../AbstractPixiTarget":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\targets\\pixi\\AbstractPixiTarget.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\World.js":[function(t,i,e){"use strict";var s=function o(t){if(!(this instanceof o))return new o(t);this.opts=t||{},this.entities={},this.type="World",this.targetFactory=t.targetFactory,this.stage=void 0,this.debug=!1};s.prototype.init=function(){console.info("Init world",this.opts),this.stage=this.targetFactory.generate(this),console.info("Stage ready",this.stage.info)},s.prototype.addEntity=function(t,i){console.info("adding "+i.type,i),i.id?(this.entities[i.type]||(this.entities[i.type]=[]),this.entities[i.type].push(i),this.stage&&this.stage.addEntity(i)):console.error("Entity id missing; check the entity.id field",i)},s.prototype.getEntities=function(){var t=[];for(var i in this.entities)t=t.concat(this.entities[i]);return t},s.prototype.getEntitiesByType=function(t){var i=[];return this.entities[t]&&(i=i.concat(this.entities[t])),i},s.prototype.getEntityKeys=function(t){return Object.keys(this.entities)},s.prototype.update=function(t){var i={debug:this.debug,attractors:this.getEntitiesByType("Bouncer"),goals:this.getEntitiesByType("Goal"),walls:this.getEntitiesByType("Wall")};for(var e in this.entities)for(var s=this.entities[e].length-1;s>=0;s--){var o=this.entities[e][s];o.update(i)}this.stage.update()},s.prototype.remove=function(){console.info("removing world"),this.stage&&this.stage.destroy()},s.prototype.serialize=function(){return{type:this.type,id:this.id,debug:this.debug,entities:[]}},i.exports=s},{}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\WorldLoader.js":[function(t,i,e){"use strict";var s=t("../factories/EntityFactory")({}),o=t("./World"),r=function n(t){return this.opts=t||{},this instanceof n?void 0:new n(this.opts)};r.prototype.load=function(t,i){i=$.extend(!0,{},i);var e=new o(t);if(e.init(),i.entities)for(var s=i.entities.length-1;s>=0;s--){var r=i.entities[s];e.addEntity({id:r.id,type:r.type},r)}return e},r.prototype.loadFromJSON=function(t,i){console.info("imported object",i),i=$.extend(!0,{},i);var e=new o(t);if(e.init(),i.entities)for(var r=i.entities.length-1;r>=0;r--){var n=i.entities[r];console.info(n),s.generate(n,t,function(t){t&&e.addEntity({id:t.id,type:t.type},t)})}return console.info("cooked object",e),e},r.prototype.saveToJSON=function(t,i){for(var e=t.getEntities(),s=t.serialize(),o=e.length-1;o>=0;o--){var r=e[o];s.entities.push(r.serialize())}return JSON.stringify(s)},i.exports=new r},{"../factories/EntityFactory":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\factories\\EntityFactory.js","./World":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\app\\world\\World.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\main.js":[function(t,i,e){"use strict";t("./ZLM")},{"./ZLM":"C:\\workspaces\\github\\snip-boid\\app\\scripts\\ZLM.js"}],"C:\\workspaces\\github\\snip-boid\\app\\scripts\\utils.js":[function(t,i,e){"use strict";function s(t){return t*t}function o(t,i){return s(t.x-i.x)+s(t.y-i.y)}function r(t,i,e){var s=o(i,e);if(0==s)return o(t,i);var r=((t.x-i.x)*(e.x-i.x)+(t.y-i.y)*(e.y-i.y))/s;return 0>r?o(t,i):r>1?o(t,e):o(t,{x:i.x+r*(e.x-i.x),y:i.y+r*(e.y-i.y)})}Array.prototype.remove=function(){for(var t,i,e=arguments,s=e.length;s&&this.length;)for(t=e[--s];-1!==(i=this.indexOf(t));)this.splice(i,1);return this};var n=t("randomcolor"),a=(t("victor"),function p(){return this instanceof p?(this.name="Utility class",this.description="some method",this.info=function(){console.info(this)},this.random=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},this.randomReal=function(t,i){return Math.random()*(i-t)+t},this.distToSegment=function(t,i,e){return Math.sqrt(r(t,i,e))},this.distToPoint=function(t,i){return Math.sqrt(o(t,i))},this.color=function(){return n().replace("#","0x")},this.getLineEq=function(t,i){return{A:i.y-t.y,B:t.x-i.x,C:(i.y-t.y)*t.x+(t.x-i.x)*t.y,M:(i.y-t.y)/(i.x-t.x),Y:function(e){return(i.y-t.y)/(i.x-t.x)*e},isVertical:Math.abs(i.x-t.x)<1e-5,isHorizontal:Math.abs(i.y-t.y)<1e-5}},this.lineInterception=function(t,i){var e=t.A*i.B-i.A*t.B;if(0!=e){var s=(i.B*t.C-t.B*i.C)/e,o=(t.A*i.C-i.A*t.C)/e;return{x:s,y:o}}},this):new p(opts)});i.exports=new a},{randomcolor:"C:\\workspaces\\github\\snip-boid\\node_modules\\randomcolor\\randomColor.js",victor:"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js"}],"C:\\workspaces\\github\\snip-boid\\node_modules\\browserify\\node_modules\\events\\events.js":[function(t,i,e){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function n(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}i.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},s.prototype.emit=function(t){var i,e,s,r,p,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if(i=arguments[1],i instanceof Error)throw i;throw TypeError('Uncaught, unspecified "error" event.')}if(e=this._events[t],a(e))return!1;if(o(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,r=new Array(s-1),p=1;s>p;p++)r[p-1]=arguments[p];e.apply(this,r)}else if(n(e)){for(s=arguments.length,r=new Array(s-1),p=1;s>p;p++)r[p-1]=arguments[p];for(c=e.slice(),s=c.length,p=0;s>p;p++)c[p].apply(this,r)}return!0},s.prototype.addListener=function(t,i){var e;if(!o(i))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(i.listener)?i.listener:i),this._events[t]?n(this._events[t])?this._events[t].push(i):this._events[t]=[this._events[t],i]:this._events[t]=i,n(this._events[t])&&!this._events[t].warned){var e;e=a(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[t].length>e&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(t,i){function e(){this.removeListener(t,e),s||(s=!0,i.apply(this,arguments))}if(!o(i))throw TypeError("listener must be a function");var s=!1;return e.listener=i,this.on(t,e),this},s.prototype.removeListener=function(t,i){var e,s,r,a;if(!o(i))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],r=e.length,s=-1,e===i||o(e.listener)&&e.listener===i)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,i);else if(n(e)){for(a=r;a-- >0;)if(e[a]===i||e[a].listener&&e[a].listener===i){s=a;break}if(0>s)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(s,1),this._events.removeListener&&this.emit("removeListener",t,i)}return this},s.prototype.removeAllListeners=function(t){var i,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(i in this._events)"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],o(e))this.removeListener(t,e);else for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},s.prototype.listeners=function(t){var i;return i=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},s.listenerCount=function(t,i){var e;return e=t._events&&t._events[i]?o(t._events[i])?1:t._events[i].length:0}},{}],"C:\\workspaces\\github\\snip-boid\\node_modules\\browserify\\node_modules\\process\\browser.js":[function(t,i,e){function s(){h=!1,a.length?c=a.concat(c):u=-1,c.length&&o()}function o(){if(!h){var t=setTimeout(s);h=!0;for(var i=c.length;i;){for(a=c,c=[];++u<i;)a&&a[u].run();u=-1,i=c.length}a=null,h=!1,clearTimeout(t)}}function r(t,i){this.fun=t,this.array=i}function n(){}var a,p=i.exports={},c=[],h=!1,u=-1;p.nextTick=function(t){var i=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)i[e-1]=arguments[e];c.push(new r(t,i)),1!==c.length||h||setTimeout(o,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=n,p.addListener=n,p.once=n,p.off=n,p.removeListener=n,p.removeAllListeners=n,p.emit=n,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],"C:\\workspaces\\github\\snip-boid\\node_modules\\fps\\index.js":[function(t,i,e){function s(t){return this instanceof s?(o.call(this),t=t||{},this.last=n(),this.rate=0,this.time=0,this.decay=t.decay||1,this.every=t.every||1,void(this.ticks=0)):new s(t)}var o=t("events").EventEmitter,r=t("inherits");i.exports=s;var n=function(){return this}().performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now||function(){return+new Date};r(s,o),s.prototype.tick=function(){var t=n(),i=t-this.last,e=i;this.ticks+=1,this.last=t,this.time+=(e-this.time)*this.decay,this.rate=1e3/this.time,this.ticks%this.every||this.emit("data",this.rate)}},{events:"C:\\workspaces\\github\\snip-boid\\node_modules\\browserify\\node_modules\\events\\events.js",inherits:"C:\\workspaces\\github\\snip-boid\\node_modules\\fps\\node_modules\\inherits\\inherits.js"}],"C:\\workspaces\\github\\snip-boid\\node_modules\\fps\\node_modules\\inherits\\inherits.js":[function(t,i,e){function s(t,i,e){e=e||{};var s={};[t.prototype,e].forEach(function(t){Object.getOwnPropertyNames(t).forEach(function(i){s[i]=Object.getOwnPropertyDescriptor(t,i)})}),t.prototype=Object.create(i.prototype,s),t["super"]=i}i.exports=s},{}],"C:\\workspaces\\github\\snip-boid\\node_modules\\raf\\index.js":[function(t,i,e){(function(e){for(var s=t("performance-now"),o="undefined"==typeof window?e:window,r=["moz","webkit"],n="AnimationFrame",a=o["request"+n],p=o["cancel"+n]||o["cancelRequest"+n],c=0;!a&&c<r.length;c++)a=o[r[c]+"Request"+n],p=o[r[c]+"Cancel"+n]||o[r[c]+"CancelRequest"+n];if(!a||!p){var h=0,u=0,d=[],l=1e3/60;a=function(t){if(0===d.length){var i=s(),e=Math.max(0,l-(i-h));h=e+i,setTimeout(function(){var t=d.slice(0);d.length=0;for(var i=0;i<t.length;i++)if(!t[i].cancelled)try{t[i].callback(h)}catch(e){setTimeout(function(){throw e},0)}},Math.round(e))}return d.push({handle:++u,callback:t,cancelled:!1}),u},p=function(t){for(var i=0;i<d.length;i++)d[i].handle===t&&(d[i].cancelled=!0)}}i.exports=function(t){return a.call(o,t)},i.exports.cancel=function(){p.apply(o,arguments)},i.exports.polyfill=function(){o.requestAnimationFrame=a,o.cancelAnimationFrame=p}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":"C:\\workspaces\\github\\snip-boid\\node_modules\\raf\\node_modules\\performance-now\\lib\\performance-now.js"}],"C:\\workspaces\\github\\snip-boid\\node_modules\\raf\\node_modules\\performance-now\\lib\\performance-now.js":[function(t,i,e){(function(t){(function(){var e,s,o;"undefined"!=typeof performance&&null!==performance&&performance.now?i.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(i.exports=function(){return(e()-o)/1e6},s=t.hrtime,e=function(){var t;return t=s(),1e9*t[0]+t[1]},o=e()):Date.now?(i.exports=function(){return Date.now()-o},o=Date.now()):(i.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:"C:\\workspaces\\github\\snip-boid\\node_modules\\browserify\\node_modules\\process\\browser.js"}],"C:\\workspaces\\github\\snip-boid\\node_modules\\randomcolor\\randomColor.js":[function(t,i,e){!function(t,s){if("function"==typeof define&&define.amd)define([],s);else if("object"==typeof e){var o=s();"object"==typeof i&&i&&i.exports&&(e=i.exports=o),e.randomColor=o}else t.randomColor=s()}(this,function(){function t(t){var i=r(t.hue),e=p(i);return 0>e&&(e=360+e),e}function i(t,i){if("random"===i.luminosity)return p([0,100]);if("monochrome"===i.hue)return 0;var e=n(t),s=e[0],o=e[1];switch(i.luminosity){case"bright":s=55;break;case"dark":s=o-10;break;case"light":o=55}return p([s,o])}function e(t,i,e){var s=o(t,i),r=100;switch(e.luminosity){case"dark":r=s+20;break;case"light":s=(r+s)/2;break;case"random":s=0,r=100}return p([s,r])}function s(t,i){switch(i.format){case"hsvArray":return t;case"hslArray":return l(t);case"hsl":var e=l(t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)";case"hsla":var s=l(t);return"hsla("+s[0]+", "+s[1]+"%, "+s[2]+"%, "+Math.random()+")";case"rgbArray":return d(t);case"rgb":var o=d(t);return"rgb("+o.join(", ")+")";case"rgba":var r=d(t);return"rgba("+r.join(", ")+", "+Math.random()+")";default:return c(t)}}function o(t,i){for(var e=a(t).lowerBounds,s=0;s<e.length-1;s++){var o=e[s][0],r=e[s][1],n=e[s+1][0],p=e[s+1][1];if(i>=o&&n>=i){var c=(p-r)/(n-o),h=r-c*o;return c*i+h}}return 0}function r(t){if("number"==typeof parseInt(t)){var i=parseInt(t);if(360>i&&i>0)return[i,i]}if("string"==typeof t&&f[t]){var e=f[t];if(e.hueRange)return e.hueRange}return[0,360]}function n(t){return a(t).saturationRange}function a(t){t>=334&&360>=t&&(t-=360);for(var i in f){var e=f[i];if(e.hueRange&&t>=e.hueRange[0]&&t<=e.hueRange[1])return f[i]}return"Color not found"}function p(t){if(null===y)return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]));var i=t[1]||1,e=t[0]||0;y=(9301*y+49297)%233280;var s=y/233280;return Math.floor(e+s*(i-e))}function c(t){function i(t){var i=t.toString(16);return 1==i.length?"0"+i:i}var e=d(t),s="#"+i(e[0])+i(e[1])+i(e[2]);return s}function h(t,i,e){var s=e[0][0],o=e[e.length-1][0],r=e[e.length-1][1],n=e[0][1];f[t]={hueRange:i,lowerBounds:e,saturationRange:[s,o],brightnessRange:[r,n]}}function u(){h("monochrome",null,[[0,0],[100,0]]),h("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),h("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),h("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),h("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),h("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),h("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),h("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function d(t){var i=t[0];0===i&&(i=1),360===i&&(i=359),i/=360;var e=t[1]/100,s=t[2]/100,o=Math.floor(6*i),r=6*i-o,n=s*(1-e),a=s*(1-r*e),p=s*(1-(1-r)*e),c=256,h=256,u=256;switch(o){case 0:c=s,h=p,u=n;break;case 1:c=a,h=s,u=n;break;case 2:c=n,h=s,u=p;break;case 3:c=n,h=a,u=s;break;case 4:c=p,h=n,u=s;break;case 5:c=s,h=n,u=a}var d=[Math.floor(255*c),Math.floor(255*h),Math.floor(255*u)];return d}function l(t){var i=t[0],e=t[1]/100,s=t[2]/100,o=(2-e)*s;return[i,Math.round(e*s/(1>o?o:2-o)*1e4)/100,o/2*100]}var y=null,f={};u();var g=function(o){if(o=o||{},o.seed&&o.seed===parseInt(o.seed,10))y=o.seed;else{if(void 0!==o.seed&&null!==o.seed)throw new TypeError("The seed value must be an integer");y=null}var r,n,a;if(null!==o.count&&void 0!==o.count){var p=o.count,c=[];for(o.count=null;p>c.length;)y&&o.seed&&(o.seed+=1),c.push(g(o));return o.count=p,c}return r=t(o),n=i(r,o),a=e(r,n,o),s([r,n,a],o)};return g})},{}],"C:\\workspaces\\github\\snip-boid\\node_modules\\victor\\index.js":[function(t,i,e){function s(t,i){return this instanceof s?(this.x=t||0,void(this.y=i||0)):new s(t,i)}function o(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function r(t){return t*a}function n(t){return t/a}e=i.exports=s,s.fromArray=function(t){return new s(t[0]||0,t[1]||0)},s.fromObject=function(t){return new s(t.x||0,t.y||0)},s.prototype.addX=function(t){return this.x+=t.x,this},s.prototype.addY=function(t){return this.y+=t.y,this},s.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},s.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},s.prototype.addScalarX=function(t){return this.x+=t,this},s.prototype.addScalarY=function(t){return this.y+=t,this},s.prototype.subtractX=function(t){return this.x-=t.x,this},s.prototype.subtractY=function(t){return this.y-=t.y,this},s.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},s.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},s.prototype.subtractScalarX=function(t){return this.x-=t,this},s.prototype.subtractScalarY=function(t){return this.y-=t,this},s.prototype.divideX=function(t){return this.x/=t.x,this},s.prototype.divideY=function(t){return this.y/=t.y,this},s.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},s.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},s.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},s.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},s.prototype.invertX=function(){return this.x*=-1,this},s.prototype.invertY=function(){return this.y*=-1,this},s.prototype.invert=function(){return this.invertX(),this.invertY(),this},s.prototype.multiplyX=function(t){return this.x*=t.x,this},s.prototype.multiplyY=function(t){return this.y*=t.y,this},s.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},s.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},s.prototype.multiplyScalarX=function(t){return this.x*=t,this},s.prototype.multiplyScalarY=function(t){return this.y*=t,this},s.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(s(t,t)),this},s.prototype.norm=s.prototype.normalize,s.prototype.limit=function(t,i){return Math.abs(this.x)>t&&(this.x*=i),Math.abs(this.y)>t&&(this.y*=i),this},s.prototype.randomize=function(t,i){return this.randomizeX(t,i),this.randomizeY(t,i),this},s.prototype.randomizeX=function(t,i){var e=Math.min(t.x,i.x),s=Math.max(t.x,i.x);return this.x=o(e,s),this},s.prototype.randomizeY=function(t,i){var e=Math.min(t.y,i.y),s=Math.max(t.y,i.y);return this.y=o(e,s),this},s.prototype.randomizeAny=function(t,i){return Math.round(Math.random())?this.randomizeX(t,i):this.randomizeY(t,i),this},s.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},s.prototype.toFixed=function(t){return"undefined"==typeof t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},s.prototype.mixX=function(t,i){return"undefined"==typeof i&&(i=.5),this.x=(1-i)*this.x+i*t.x,this},s.prototype.mixY=function(t,i){return"undefined"==typeof i&&(i=.5),this.y=(1-i)*this.y+i*t.y,this},s.prototype.mix=function(t,i){return this.mixX(t,i),this.mixY(t,i),this},s.prototype.clone=function(){return new s(this.x,this.y)},s.prototype.copyX=function(t){return this.x=t.x,this},s.prototype.copyY=function(t){return this.y=t.y,this},s.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},s.prototype.zero=function(){return this.x=this.y=0,this},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y},s.prototype.cross=function(t){return this.x*t.y-this.y*t.x},s.prototype.projectOnto=function(t){var i=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=i*t.x,this.y=i*t.y,this},s.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},s.prototype.horizontalAngleDeg=function(){return r(this.horizontalAngle())},s.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},s.prototype.verticalAngleDeg=function(){return r(this.verticalAngle())},s.prototype.angle=s.prototype.horizontalAngle,s.prototype.angleDeg=s.prototype.horizontalAngleDeg,s.prototype.direction=s.prototype.horizontalAngle,s.prototype.rotate=function(t){var i=this.x*Math.cos(t)-this.y*Math.sin(t),e=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=i,this.y=e,this},s.prototype.rotateDeg=function(t){return t=n(t),this.rotate(t)},s.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},s.prototype.rotateToDeg=function(t){return t=n(t),this.rotateTo(t)},s.prototype.rotateBy=function(t){var i=this.angle()+t;return this.rotate(i)},s.prototype.rotateByDeg=function(t){return t=n(t),this.rotateBy(t)},s.prototype.distanceX=function(t){return this.x-t.x},s.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},s.prototype.distanceY=function(t){return this.y-t.y},s.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},s.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},s.prototype.distanceSq=function(t){var i=this.distanceX(t),e=this.distanceY(t);return i*i+e*e},s.prototype.length=function(){return Math.sqrt(this.lengthSq())},s.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},s.prototype.magnitude=s.prototype.length,s.prototype.isZero=function(){return 0===this.x&&0===this.y},s.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},s.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},s.prototype.toArray=function(){return[this.x,this.y]},s.prototype.toObject=function(){return{x:this.x,y:this.y}};var a=180/Math.PI},{}]},{},["C:\\workspaces\\github\\snip-boid\\app\\scripts\\main.js"]);